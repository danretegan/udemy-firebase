{"mappings":"AAAA,IAAMA,KAAOC,SAASC,cAAc,MAC9BC,KAAOF,SAASC,cAAc,QAE9BE,UAAY,SAACC,EAAQC,GAEzB,IAAIC,EAAO,sBAEJC,OADUF,EAAG,eAEEE,OADfH,EAAOI,MAAM,kCAEAD,OADEH,EAAOK,OAAO,wCACWF,OAA3BH,EAAOM,WAAWC,SAAS,6FAM/CZ,KAAKa,WAAaN,C;;AAIpBO,GAAGC,WAAW,WACXC,MACAC,MAAK,SAAAC,GAGJA,EAAUC,KAAKC,SAAQ,SAAAC,GAGrBjB,UAAUiB,EAAIC,OAAQD,EAAIf,G,OAG7BiB,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E;;AAIhBrB,KAAKwB,iBAAiB,UAAU,SAAAC,GAC9BA,EAAEC,iBAEF,IAAMC,EAAM,IAAIC,KAGV1B,EAAS,CACbI,MAAON,KAAKE,OAAO2B,MACnBrB,WAAYsB,SAASC,UAAUC,UAAUC,SAASN,IAGpDhB,GAAGC,WAAW,WACXsB,IAAIhC,GACJY,MAAK,WACJQ,QAAQC,IAAI,gB,IAEbH,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E;;AAKlBxB,KAAK2B,iBAAiB,SAAS,SAAAC,GAE7B,GAAyB,WAArBA,EAAEU,OAAOC,QAAsB,CACjC,IAAMjC,EAAKsB,EAAEU,OAAOE,cAAcC,aAAa,aAE/C3B,GAAGC,WAAW,WACXM,IAAIf,GACJoC,SACAzB,MAAK,WACJQ,QAAQC,IAAI,kB,IAEbH,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E","sources":["src/index.js"],"sourcesContent":["const list = document.querySelector('ul');\nconst form = document.querySelector('form');\n\nconst addRecipe = (recipe, id) => {\n  //   console.log(recipe.created_at.toDate());\n  let html = `\n  <li recipe-id=\"${id}\">\n  <div>${recipe.title}</div>\n  <div><small>author: ${recipe.author}</small></div>\n  <div><small>date: ${recipe.created_at.toDate()}</small></div>\n  <button class=\"btn btn-danger btn-sm my-2\">delete</button>\n  </li>\n  `;\n\n  // console.log(html);\n  list.innerHTML += html;\n};\n\n//! get documents:\ndb.collection('recipes')\n  .get()\n  .then(snapshoot => {\n    // when we have the data\n    // console.log(snapshoot.docs[0].data());\n    snapshoot.docs.forEach(doc => {\n      //   console.log(doc.data());\n      //   console.log(doc.id);\n      addRecipe(doc.data(), doc.id);\n    });\n  })\n  .catch(err => {\n    console.log(err);\n  });\n\n//! add documents:\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const now = new Date();\n\n  //* Definim obiectul (documentul) si modalitatea de a obtine datele:\n  const recipe = {\n    title: form.recipe.value, // Obținem titlul rețetei din formular.\n    created_at: firebase.firestore.Timestamp.fromDate(now), // Setăm data curentă.\n  };\n\n  db.collection('recipes')\n    .add(recipe)\n    .then(() => {\n      console.log('recipe added!');\n    })\n    .catch(err => {\n      console.log(err);\n    });\n});\n\n//! deleting data:\nlist.addEventListener('click', e => {\n  //   console.log(e);\n  if (e.target.tagName === 'BUTTON') {\n    const id = e.target.parentElement.getAttribute('recipe-id');\n    // console.log(id);\n    db.collection('recipes')\n      .doc(id)\n      .delete()\n      .then(() => {\n        console.log('recipe deleted!');\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  }\n});\n"],"names":["list","document","querySelector","form","addRecipe","recipe","id","html","concat","title","author","created_at","toDate","innerHTML","db","collection","get","then","snapshoot","docs","forEach","doc","data","catch","err","console","log","addEventListener","e","preventDefault","now","Date","value","firebase","firestore","Timestamp","fromDate","add","target","tagName","parentElement","getAttribute","delete"],"version":3,"file":"index.ea73c6b0.js.map"}